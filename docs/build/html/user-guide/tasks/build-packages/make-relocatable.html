

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Making packages relocatable &mdash; Conda   documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Conda   documentation" href="../../../index.html"/>
        <link rel="up" title="Building packages" href="index.html"/>
        <link rel="next" title="Adding pre-link, post-link and pre-unlink scripts" href="link-scripts.html"/>
        <link rel="prev" title="Environment variables" href="environment-variables.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index_ko.html" class="icon icon-home"> Conda
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index_ko.html">사용자 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../help-support.html">Help and support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../commands_ko.html">명령 레퍼런스</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary_ko.html">용어집</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">Conda license</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index_ko.html">Conda</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index_ko.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index_ko.html">사용자 가이드</a> &raquo;</li>
        
          <li><a href="../index_ko.html">작업</a> &raquo;</li>
        
          <li><a href="index.html">Building packages</a> &raquo;</li>
        
      <li>Making packages relocatable</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/VeranosTech/docs-korean-conda/blob/docs-korean/docs/source/user-guide/tasks/build-packages/make-relocatable.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="making-packages-relocatable">
<h1>Making packages relocatable<a class="headerlink" href="#making-packages-relocatable" title="Permalink to this headline">¶</a></h1>
<p>Often, the most difficult thing about building a conda package is
making it relocatable. Relocatable means that the package can be
installed into any prefix. Otherwise, the package would be usable
only in the environment in which it was built.</p>
<p>Conda build does the following things automatically to make
packages relocatable:</p>
<ul>
<li><p class="first">Binary object files are converted to use relative paths using
install_name_tool on macOS and patchelf on Linux.</p>
</li>
<li><p class="first">Any text file without NULL bytes that contains the build prefix
or the placeholder prefix <code class="docutils literal"><span class="pre">/opt/anaconda1anaconda2anaconda3</span></code>
is registered in the <code class="docutils literal"><span class="pre">info/has_prefix</span></code> file in the package
metadata. When conda installs the package, any files in
<code class="docutils literal"><span class="pre">info/has_prefix</span></code> have the registered prefix replaced with
the install prefix. For more information, see
<a class="reference internal" href="package-spec.html#package-metadata"><span class="std std-ref">Package metadata</span></a> .</p>
</li>
<li><p class="first">Any binary file containing the build prefix can automatically
be registered in <code class="docutils literal"><span class="pre">info/has_prefix</span></code> using
build/detect_binary_files_with_prefix in <code class="docutils literal"><span class="pre">meta.yaml</span></code>.
Alternatively, individual binary files can be registered by
listing them in build/binary_has_prefix_files in
<code class="docutils literal"><span class="pre">meta.yaml</span></code>. The registered files will have their build
prefix replaced with the install prefix at install time. This
works by padding the install prefix with null terminators, such
that the length of the binary file remains the same. The build
prefix must therefore be long enough to accommodate any
reasonable installation prefix. On Linux and Mac, conda build
pads the build prefix to 255 characters by appending
<code class="docutils literal"><span class="pre">_placehold</span></code>’s to the end of the build directory name.</p>
<p>NOTE: The prefix length was changed in conda build 2.0 from 80
characters to 255 characters. Legacy packages with
80-character prefixes must be rebuilt to take advantage of the
longer prefix.</p>
</li>
<li><p class="first">There may be cases where conda identified a file as binary, but
it needs to have the build prefix replaced as if it were
text—no padding with null terminators. Such files can be
listed in build/has_prefix_files in <code class="docutils literal"><span class="pre">meta.yaml</span></code>.</p>
</li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="link-scripts.html" class="btn btn-neutral float-right" title="Adding pre-link, post-link and pre-unlink scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="environment-variables.html" class="btn btn-neutral" title="Environment variables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Anaconda, Inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>